# 무조건 한글로 번역해드림

OpenRouter AI를 활용해 영어 웹페이지를 자연스러운 한글로 바꿔주는 크롬 확장 프로그램입니다.

> 개발자를 위한 문서: [CLAUDE.md](./CLAUDE.md)
>
> 추가 문서 모음: [docs/](./docs/)

## 문서 안내
- `CLAUDE.md`: 프로젝트 구조/원칙/디버깅 팁까지 담은 개발 가이드(작업 전 필독).
- `docs/ARCHITECTURE.md`: Background, Content, Side Panel 흐름과 메시지/캐시, 모듈 주입 순서 요약.
- `docs/CONTENT_MODULES.md`: content 스크립트 모듈 책임과 순서, WPT 네임스페이스 유지 전략 정리.
- `docs/SIDEPANEL_MODULES.md`: sidepanel과 `modules/` 하위 ES 모듈 구조 및 추가 규칙 설명.
- `docs/MESSAGING.md`: 포트/액션 메시지 스펙과 응답/취소 통지 기준.
- `docs/STATE_MACHINE.md`: `TranslationState` 속성과 전이 규칙, 탭 복구 정책.
- `docs/EXTENSIBILITY.md`: 기능 확장을 위한 메시지·상태·캐시 검증 체크리스트와 코드/상수 통합 원칙.
- `docs/CONTRIBUTING.md`: 브랜치/커밋/PR 전략과 CLAUDE·문서 갱신 조건 등 기여 체크리스트.
- `docs/RELEASE.md`: 릴리스 전 점검 목록과 태그/검증 흐름을 담은 실전 가이드.

## 어떤 기능이 있나요?
- **AI 번역** 버튼 한 번으로 현재 페이지 전체를 자연스러운 한글로 바꿔줘요.
- **번역 히스토리** 최근 번역 기록을 모아두어 다시 방문할 때 빠르게 재번역할 수 있어요.
- **스마트 검색** OpenRouter AI가 추천하는 최적의 검색문으로 Google, Naver, Bing, ChatGPT, Perplexity에서 동시에 검색할 수 있어요.
- **GEO 검사** (NEW!) 웹페이지의 검색엔진/생성형 AI 최적화 점수를 측정하고, AI가 상위 3개 개선사항을 자동으로 제안해줘요.
- **맞춤 설정** 모델, 배치 크기, 캐시 유지 시간 등을 내 취향대로 조절할 수 있어요.
- **원본 비교** 필요할 때 언제든지 원본과 번역본을 오가며 비교할 수 있어요.

## 어떻게 사용하나요?
1. **필수 준비물 챙기기**
   - [OpenRouter](https://openrouter.ai/)에서 회원가입 후 API Key를 발급받아요.
   - 잔액이 부족하면 번역이 멈출 수 있으니, 필요한 만큼 크레딧을 충전해 두세요.
2. **확장 프로그램 설치하기**
   - GitHub 페이지 우측 상단의 **초록색 Code 버튼 → Download ZIP**을 눌러 파일을 받아요.
   - 내려받은 ZIP 파일을 압축 해제한 뒤, 폴더 이름을 기억해 둡니다.
   - Chrome 주소창에 `chrome://extensions/` 를 입력하고 상단에서 **개발자 모드**를 켜요.
     - 네이버 웨일: `whale://extensions`
     - Perplexity Comet: `comet://extensions/`
   - **"압축 해제된 확장 프로그램을 로드합니다"** 버튼을 눌러 조금 전 압축 해제한 폴더를 선택하면 설치가 끝나요.
   - 툴바에 파란색 "한" 아이콘이 보이지 않으면 퍼즐 아이콘을 눌러 고정해 두세요.
3. **처음 설정 마치기**
   - 아이콘을 클릭하면 우측 사이드패널이 열려요.
   - **설정 탭**에서 OpenRouter API Key를 붙여 넣고 저장하면 바로 번역을 시작할 수 있어요.
   - 같은 곳에서 모델 종류, 한 번에 번역할 문장 수, 캐시 유지 시간을 내 상황에 맞게 조절할 수 있습니다.
4. **페이지 번역하기**
   - 번역하고 싶은 페이지로 이동한 뒤 **번역 탭**의 "현재 페이지 모두 번역" 버튼을 눌러요.
   - 진행률, 사용된 캐시, 번역에 걸린 시간이 실시간으로 표시되니 상태를 쉽게 확인할 수 있어요.
   - 원본 문장을 보고 싶다면 "원본 보기" 버튼을 누르면 언제든지 비교할 수 있습니다.
5. **번역 히스토리 활용하기**
   - 번역이 끝나면 **히스토리 탭**에 방금 번역한 페이지가 자동으로 저장돼요.
   - 목록에서 항목을 누르면 동일한 설정으로 바로 재번역할 수 있고, 더 이상 필요 없으면 휴지통 아이콘으로 삭제할 수 있어요.
6. **스마트 검색 이용하기** (NEW!)
   - **검색 탭**에서 찾고 싶은 내용을 입력하고 Enter 키를 누르세요.
   - OpenRouter AI가 최적의 검색문 3개를 추천해줘요.
   - 각 검색문 옆의 아이콘(🔍 Google, 🔍 Naver, 🔍 Bing, 🤖 ChatGPT, 🧠 Perplexity)을 클릭하면 해당 엔진에서 새 탭으로 검색돼요.
   - **All** 버튼을 누르면 추천된 검색문으로 5개 엔진 모두에서 동시에 검색할 수 있어요.
   - "추천 받기"를 계속 누르면 최대 10개(사용자 입력 1개 + AI 추천 9개)까지 누적돼요.
7. **GEO 검사로 페이지 최적화 평가하기** (NEW!)
   - 웹사이트 운영 중이라면 **GEO 검사 탭**에서 검색엔진과 생성형 AI 관점의 최적화 점수를 확인할 수 있어요.
   - **"검사 시작"** 버튼을 누르면 현재 페이지의 18개 항목을 자동으로 검사합니다:
     - **SEO (검색엔진 최적화)**: 제목, 메타 설명, 구조화된 데이터 등 기본 요소
     - **AEO (생성형 AI 최적화)**: ChatGPT 등 AI가 참고하는 추가 정보
     - **GEO (통합 최적화)**: SEO + AEO 통합 점수
   - 검사 완료 후 **"개선 의견 보기"** 버튼을 눌러 AI가 제안하는 상위 3개 개선사항을 확인해요.
   - 각 개선사항에는 "구체적인 실행 방법"과 "예상 효과"가 포함되어 있으니 바로 적용할 수 있어요.
   - **팁**: SSR(서버 렌더링)과 CSR(클라이언트 렌더링)의 차이점이 설명되어 있어, 왜 어떤 항목은 실제로는 보이는데 검사에서 실패할 수 있는지 이해하는 데 도움이 돼요.
8. **문제가 생겼을 때 대처하기**
   - 번역이 잠시 멈춘 것 같으면 패널의 안내 메시지에 따라 버튼을 다시 눌러 주세요.
   - API Key 만료나 잔액 부족이 감지되면 패널에서 해결 방법을 바로 안내해 드립니다.

## 이미 설치했다면 어떻게 업데이트하나요?
1. **새 버전 내려받기**
   - GitHub 페이지 우측 상단의 **초록색 Code 버튼**을 누릅니다.
   - **Download ZIP**을 선택하여 최신 버전을 다운로드합니다.
   - 내려받은 ZIP 파일을 압축 해제합니다.
   - **팁**: 기존 폴더를 덮어쓰지 말고 새 폴더로 받아 두면 롤백이 필요할 때 쉽게 되돌릴 수 있어요.

2. **확장 프로그램 화면 열기**
   - Chrome 주소창에 다음 중 하나를 입력합니다:
     - Chrome: `chrome://extensions/`
     - 네이버 웨일: `whale://extensions/`
     - Perplexity Comet: `comet://extensions/`
   - 우측 상단에서 **개발자 모드**가 켜져있는지 확인합니다.

3. **기존 버전 교체하기**
   - 목록에서 "무조건 한글로 번역해드림" 항목을 찾습니다.
   - **세부 정보**를 눌러 상세 페이지로 이동합니다.
   - **폴더 위치 열기**를 눌러 현재 설치된 폴더를 확인합니다.
   - 탐색기/Finder에서 해당 폴더의 모든 파일을 **새로 받은 폴더의 파일로 전체 교체**합니다.
   - 또는 확장 프로그램 관리 화면에서 **"압축 해제된 확장 프로그램을 로드합니다"** 버튼을 눌러 새 폴더를 다시 선택해도 됩니다.

4. **새 버전 적용 확인하기**
   - 확장 프로그램 카드에서 **"다시 로드"** 버튼을 누르면 브라우저에 최신 코드가 반영됩니다.
   - 확장 프로그램을 다시 열어 사이드패널 하단 푸터의 최종 수정 날짜가 최신 버전 날짜와 일치하는지 확인합니다.
   - 새로운 기능이 정상 작동하는지 테스트합니다.

## 최신 버전 정보
- 마지막 업데이트: **2025-11-13**
- 현재 버전: **v2.3.0**

## 최근 업데이트 내역

### 🚀 최신 버전 (v2.3.0) - 2025-11-13
**GEO 검사 안정성 및 기능 개선**
- **GEO 검사 Race Condition 방지**
  - 동시에 여러 검사가 실행될 때 상태가 꼬이는 문제 해결
  - 검사 도중 다른 작업 요청 시 안전하게 처리
- **Content Script PING 메시지 타임아웃 (3초)**
  - 사이드패널과 컨텐츠 스크립트 간 통신 안정성 강화
  - 응답 없는 경우 자동으로 폴백 처리
- **CSS 미디어 쿼리 검사 개선**
  - CSS 미디어 쿼리 통과 시 이유 표시 (예: "모바일 이상적")
  - 실제 반응형 구현 여부를 더 명확하게 판단
  - SSR/CSR에 관계없이 실제 CSS 검사로 정확도 향상
- **모바일 반응형 검사 세분화**
  - 검사 기준을 3단계로 개선 (완벽 → 부분 → 미흡)
  - 사용자가 개선 수준을 더 명확하게 이해
- **UI/UX 개선**
  - GEO 검사 탭 UI 레이아웃 최적화
  - 검사 진행 중 애니메이션 제거로 안정적 표시
  - 개선 의견 섹션과 검사 결과 분리로 명확성 향상
- **에러 처리 강화**
  - `chrome.runtime.lastError` 제대로 처리
  - 권한 오류 또는 PING 타임아웃 시 사용자 안내

### 📊 이전 버전 (v2.3.0) - 2025-11-12
**GEO 검사 기능 추가**
- **GEO (Generative Engine Optimization) 검사 탭 추가**
  - 웹페이지의 검색엔진(SEO) 및 생성형 AI(AEO) 최적화 점수 자동 측정
  - 18개 항목 체크리스트 (SEO 6개, AEO 5개, GEO 7개)
  - 0-100 점수 4가지 (SEO, AEO, GEO, 총점)
  - AI가 상위 3개 개선사항 자동 제안 (구체적 실행방법 + 예상효과 포함)
- **마크다운 완전 지원**
  - LLM 응답을 마크다운에서 HTML로 정확하게 변환
  - 헤더(h2/h3/h4), 리스트(순서/비순서), 코드블록, 인라인 코드 완벽 렌더링
  - 섹션 제목 자동 감지 및 스타일 적용
- **SSR/CSR 사용자 교육**
  - 각 체크리스트 항목에 SSR vs CSR 차이점 설명
  - 사용자가 "실제로 보이는데 검사에서 실패"하는 이유 이해 가능
- **현실적 검사 기준**
  - 항목 존재 여부만 검증 (글자수 범위는 AI 권장사항으로 제시)
  - BBC 같은 전문 사이트도 통과 가능한 합리적 기준
- **UI 개선**
  - 점수 카드 4열 그리드 (SEO, AEO, GEO, 총점 동일 높이)
  - 개선 의견 마크다운 시각적 계층화
  - 검사 진행률 실시간 표시

### 🔧 이전 버전 (v2.2.0) - 2025-11-12
**문서 및 구조 정리**
- 개발자 문서(CLAUDE.md)를 최신 모듈 구조에 맞게 완전 업데이트
- 파일 구조, 섹션 구분, 모듈 설명을 명확하게 정리했어요

**UI 디자인 일관성 개선** (2025-11-12)
- 모든 탭(번역, 히스토리, 검색, 설정)의 여백을 통일된 스페이싱 토큰으로 맞춤
  - 각 섹션 간 여백이 일관되게 표시되어 더 깔끔해요
- 히스토리 삭제 버튼 위치를 텍스트 번역 탭과 동일하게 정렬
- 번역 결과에서 원본의 줄바꿈이 그대로 유지되도록 개선
- 전체 삭제 시 다이얼로그로 재확인 후 자동 복귀되도록 개선

**안정성 개선** (2025-11-10)
- 여러 탭에서 번역할 때 각 탭의 진행 상태가 독립적으로 관리되도록 개선
- 번역 중에 다른 탭으로 이동하면 진행이 보호되어 상태가 꼬이지 않음
- 같은 URL도 다른 탭에서는 독립적으로 번역 가능
- 권한이 없는 페이지 표시가 더 명확해짐

**스마트 검색 기능 추가** 🎉 (2025-11-07, v2.2.0)
- 검색 탭에서 AI가 최적의 검색문 3개를 자동으로 추천해줘요
- Google, Naver, Bing, ChatGPT, Perplexity 5개 엔진에서 동시 검색 가능
- 검색문 앞의 아이콘을 클릭하면 각 엔진에서 새 탭으로 열려요
- "All" 버튼으로 추천된 검색문 모두를 5개 엔진에서 한 번에 검색
- 계속 "추천 받기"를 누르면 최대 10개까지 검색문이 쌓여요

**기타 개선사항**
- 캐시 유지 시간을 최대 365일까지 설정 가능하도록 확장
- 히스토리에서 재번역할 때 이전과 동일한 설정이 자동으로 적용됨
- 페이지별 번역 오류 해결 및 권한 처리 강화

---

**💡 팁**: 매번 최신 버전을 받아 설치할 필요는 없어요. 확장 프로그램이 자동으로 업데이트되지만, 수동으로 최신 버전을 원하시면 위 "이미 설치했다면 어떻게 업데이트하나요?" 섹션을 참고해 주세요.

즐겁게 번역해 보세요! 😊
